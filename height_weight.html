<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <title>輸入身高體重</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans TC';
      background:#e8f4ff;
      padding:40px;
    }
    .card{
      max-width:420px;
      margin:auto;
      background:white;
      padding:24px;
      border-radius:12px;
      box-shadow:0 10px 20px rgba(0,0,0,0.1);
    }
    label{font-weight:600}
    input{
      width:100%;
      padding:10px;
      margin:10px 0 20px;
      border:1px solid #ccc;
      border-radius:8px;
      font-size:16px;
    }
    button{
      width:100%;
      padding:12px;
      background:#0b5ed7;
      color:white;
      border:none;
      border-radius:8px;
      font-size:18px;
      cursor:pointer;
    }
  </style>
</head>

<body>
<div class="card">
  <h2>請輸入身高與體重</h2>

  <label>身高（cm）</label>
  <input type="number" id="hw_height" placeholder="例如：180" autocomplete="off" />

  <label>體重（kg）</label>
  <input type="number" id="hw_weight" placeholder="例如：70" autocomplete="off" />

  <button onclick="saveHW()">儲存</button>
</div>

<script>
// 儲存資料
function saveHW(){
  const h = Number(document.getElementById("hw_height").value);
  const w = Number(document.getElementById("hw_weight").value);

  if(!h || !w){
    alert("請輸入完整資料");
    return;
  }

  const data = JSON.parse(localStorage.getItem("patient_data") || "{}");
  data.height = h;
  data.weight = w;

  localStorage.setItem("patient_data", JSON.stringify(data));

  window.location.href = "/dashboard";
}

// 載入原本資料
(function loadHW(){
  const data = JSON.parse(localStorage.getItem("patient_data") || "{}");

  if(data.height){
    document.getElementById("hw_height").value = data.height;
  }
  if(data.weight){
    document.getElementById("hw_weight").value = data.weight;
  }
})();
</script>

</body>
</html>
